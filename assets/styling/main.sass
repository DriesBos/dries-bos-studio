@import '~/assets/styling/variables.sass'

// GENERAL
html, body, #__layout, #__nuxt, main, .transitionWrapper, .view, .page // Avoiding 100vh to better suit mobile browsers
  position: relative
  width: 100%
  height: 100%

main
  font-size: calc(17px + (19 - 17) * ((100vw - 700px) / (1200 - 700)))
main.spaced
  font-size: 19px

.icon
  position: relative
  opacity: 1
  height: 1.25em
  width: 1.25em
  svg, img
    position: absolute
    left: 0
    top: 0
    width: 100%
    height: auto

img
  opacity: 0
  width: 100%

img[lazy="loaded"]
  opacity: 1

// THEME
body
  background: var(--background-space)
  transition: background $transition-theme

main
  position: relative
  height: 100%
  display: flex
  flex-direction: column
  align-items: center
  background: var(--background-space)
  transition: background $transition-theme
  color: var(--type)
  p, h1, a, input, svg
    color: var(--type)
  section
    position: relative
    width: 100%
    max-width: 100%
    border-top: 1px solid blue
    background: var(--background-color)
    transition: background $transition-theme, max-width $transition-space-sideways, padding-top $transition-space-vertical, margin-top $transition-space-vertical, transform $transition-block-float
    .spaceForm
      position: absolute
      top: 0
      left: 0
      right: 0
      height: 200px
      width: 100%
      transform: translateY(-100%)
      background: var(--background-color)
      transition: background $transition-theme
      pointer-events: none
      &::before, &::after
        content: ""
        position: absolute
        top: 0
        bottom: 0
        border-bottom: 200px solid transparent
        transition: border-left $transition-space-vertical, border-right $transition-space-vertical
        // transition: border-left $transition-theme, border-right $transition-theme
      &::before
        left: 0
        border-left: 0px solid var(--background-space)
      &::after
        right: 0
        border-right: 0px solid var(--background-space)
  section:first-child
    padding-top: 30vh
    margin-top: 0
    z-index: +1
  .view-Container
    position: relative
    display: flex
    flex-direction: column
    align-items: center
  &.spaced
    section
      max-width: 1200px
      &.active
        transform: translateY(-60px)
    .spaceForm
      border-bottom: 1px solid var(--type)
      &::before, &::after
        transition: border-left $transition-theme, border-right $transition-theme
      &::before
        border-left: 150px solid var(--background-space)
      &::after
        border-right: 150px solid var(--background-space)
    section:first-child
      padding-top: 0
      margin-top: calc(30vh + 200px)
      margin-bottom: -1px
      border-bottom: 1px solid var(--type)

.grid
  position: relative
  display: flex
  flex-direction: column
  justify-content: flex-start
  flex-shrink: 0
  min-height: 0
  img
    transition: opacity $transition-lazy
  li
    cursor: pointer
    width: 100%
    min-height: 0
    align-self: center
  @media screen and ( min-width: $breakpoint-mobile)
    li:nth-child(2)
      width: calc((100% / 3) * 2)
      align-self: flex-end
    li:nth-child(3)
      width: calc(100% / 3)
      align-self: flex-start
    li:nth-child(4)
      width: calc((100% / 3) * 2)
      align-self: flex-start
    li:nth-child(5)
      width: calc(100% / 3)
      align-self: flex-end
    li:nth-child(6)
      width: 100%
      align-self: flex-end
    li:nth-child(7)
      width: calc((100% / 3) * 2)
      align-self: flex-end
    li:nth-child(8)
      width: calc((100% / 3) * 2)
      align-self: flex-start
    li:nth-child(9)
      width: calc(100% / 3)
      align-self: flex-end
    li:nth-child(10)
      width: calc((100% / 3) * 2)
      align-self: flex-end
    li:last-child
      width: calc((100% / 3) * 2)
      align-self: flex-start
  @media screen and ( max-width: $breakpoint-mobile)
    li
      width: 100%
.spaced
  .grid
    @media screen and ( min-width: $breakpoint-mobile)
      li:nth-child(1)
        width: calc(100% - (2 * #{var(--spacing-two)}))
      li:nth-child(2)
        width: calc((((100% - (4 * #{var(--spacing-two)})) / 3) * 2) + #{var(--spacing-two)})
        margin-right: var(--spacing-two)
        align-self: flex-end
      li:nth-child(3)
        width: calc((100% - (4 * #{var(--spacing-two)})) / 3)
        align-self: flex-start
        margin-left: var(--spacing-two)
      li:nth-child(4)
        width: calc((((100% - (4 * #{var(--spacing-two)})) / 3) * 2) + #{var(--spacing-two)})
        align-self: flex-start
        margin-left: var(--spacing-two)
      li:nth-child(5)
        width: calc((100% - (4 * #{var(--spacing-two)})) / 3)
        margin-right: var(--spacing-two)
      li:nth-child(6)
        width: calc(100% - (2 * #{var(--spacing-two)}))
        align-self: center
      li:nth-child(7)
        width: calc((((100% - (4 * #{var(--spacing-two)})) / 3) * 2) + #{var(--spacing-two)})
        margin-right: var(--spacing-two)
        align-self: flex-end
      li:nth-child(8)
        width: calc((100% - (4 * #{var(--spacing-two)})) / 3)
        align-self: flex-start
        margin-left: var(--spacing-two)
      li:nth-child(9)
        width: calc((((100% - (4 * #{var(--spacing-two)})) / 3) * 2) + #{var(--spacing-two)})
        margin-right: var(--spacing-two)
      li:nth-child(10)
        width: calc((((100% - (4 * #{var(--spacing-two)})) / 3) * 2) + #{var(--spacing-two)})
        align-self: flex-start
        margin-left: var(--spacing-two)
      li:nth-child(11)
        width: calc(100% - (2 * #{var(--spacing-two)}))
        align-self: center
      li:last-child
        width: calc((((100% - (4 * #{var(--spacing-two)})) / 3) * 2) + #{var(--spacing-two)})
        margin-left: var(--spacing-two)
