@import '~/assets/styling/variables.sass'
@import '~/assets/styling/typography.sass'
@import '~/assets/styling/transitions.sass'

// GENERAL
html, body, #__layout
  position: relative
  min-height: 100%

img
  transition: opacity .2s ease
  opacity: 0
  width: 100%

img[lazy="loaded"]
  opacity: 1

img[lazy="error"]
  display: none

// BLOCKS
.icons-Row
  position: absolute
  top: 0
  right: var(--spacing-one)
  display: flex
  align-items: center
  justify-content: center
  transition: opacity $transition-hover
  height: 100%
  @media screen and ( max-width: $breakpoint-mobile)
    margin-right: 0
.icon-Container
  display: flex
  align-items: center
  justify-content: center
  cursor: pointer
  padding-left: var(--spacing-one)
  padding-right: var(--spacing-one)
  height: 100%
.icon
  position: relative
  width: calc(20px + (26 - 20) * ((100vw - 700px) / (1400 - 700)))
  height: calc(20px + (26 - 20) * ((100vw - 700px) / (1400 - 700)))
  opacity: 1
  display: table-cell
  vertical-align: middle
  svg, img
    position: absolute
    left: 0
    top: 0
    width: 100%
    height: 100%

.cursor
  position: absolute
  width: calc(20px + (26 - 20) * ((100vw - 700px) / (1400 - 700)))
  height: calc(20px + (26 - 20) * ((100vw - 700px) / (1400 - 700)))
  top: 50vh
  left: 50vw
  transform: translate(-50%, -50%)
  border-radius: 100px
  background: #333
  z-index: 999
  pointer-events: none
  &[data-theme="true"]
    background: white

// HEADER
.header
  position: fixed
  top: 0
  left: 0
  right: 0
  display: flex
  wrap: nowrap
  justify-content: space-between
  z-index: $zindex-interface
  background: rgba(255,255,255,.5)
  backdrop-filter: saturate(180%) blur(2px)
  a, p, h1
    display: inline
  &-Profile
    img
      transition: transform .3s ease-out
    &:hover
      img
        transform: rotate(-120deg)
        @media (hover: none)
          transform: none
  &-Logo
    min-width: 0 // Hack provides width data to ellipsis content in flexbox item
    padding: var(--spacing-two)
  &[data-header="true"]
    transform: translate3d(0, -100%, 0)

// VIEWS
.view
  &-Theme
    background: white
    color: black
    transition: background $transition-theme, color $transition-theme
    min-height: 100vh
    .header
      transition: transform .3s ease, background $transition-theme
    h1, p, a, span
      color: black
      transition: color $transition-theme
    &[data-theme="true"]
      background: #999A9E
      color: white
      .header
        background: rgba(153,154,158,.5)
      h1, p, a, span
        color: white
  &-Container
    display: flex
    flex-direction: column
    justify-content: flex-start
    min-height: 100vh
  &-Index
    padding-top: 300px
    @media screen and ( max-width: $breakpoint-mobile)
      padding-top: 9em
    .list
      display: flex
      flex-direction: column
      width: 100%
    .list-Item
      position: relative
      width: 100%
      cursor: pointer
      border-top: 2px currentColor solid
      @media screen and ( max-width: $breakpoint-mobile )
        border-top: 1px currentColor solid
      &:hover
        .icons-Row, .list-Cursor
          opacity: 1
    .icons-Row
      opacity: 0
    .list-Details
      display: flex
      margin-top: var(--spacing-one)
      margin-bottom: var(--spacing-one)
      p
        text-transform: capitalize
      p
        margin-left: 10vw
      .list-Year
        margin-left: var(--spacing-two)
      @media screen and ( max-width: $breakpoint-mobile )
        .list-Title
          margin-left: var(--spacing-two)
          order: 1
          width: auto !important
          flex-basis: auto !important
        .list-Category
          display: none
        .list-Year
          text-align: right
          order: 3
          padding-right: var(--spacing-two)
          margin: 0
    .list-Cursor
      position: absolute
      top: 0
      left: 0
      transform: translate(-50%, -50%)
      width: 20vw
      height: 12.5vw
      overflow: hidden
      pointer-events: none
      opacity: 0
      z-index: $zindex-cursor
      box-shadow: 0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23)
      img
        position: absolute
        top: 0
        left: 0
        height: 100%
        width: 100%
        opacity: 1
        object-fit: cover

    .grid
      display: flex
      justify-content: space-between
      flex-wrap: wrap
      width: 100%
      padding-left: var(--spacing-two)
      padding-right: var(--spacing-two)
      &-Item
        width: calc(50% - #{var(--spacing-one)})
        cursor: pointer
        margin-bottom: var(--spacing-two)
        &:hover .grid-Ratio
          opacity: 1
      &-Ratio
        position: relative
        width: 100%
        height: 0
        padding-top: 65.5%
        &:hover .grid-Details
          opacity: 1
        img
          position: absolute
          top: 0
          left: 0
          width: 100%
          height: 100%
          object-fit: cover
      &-Details
        position: absolute
        width: 100%
        height: 100%
        left: 0
        top: 0
        opacity: 0
        transition: opacity $transition-hover
        // background: purple
        // @media screen and ( max-width: $breakpoint-mobile )
        //   flex-basis: 100%
        // @media screen and ( orientation: landscape ) // Two columns on landscape orientations
        //   flex-basis: 50%
        // @media screen and ( min-width: $breakpoint-huge ) // Three columns on larger screens
        //   flex-basis: 33.3333%
      &-Cursor
        position: absolute
        top: 50%
        left: 50%
        transform: translate(-50%, -100%)
        pointer-events: none
        z-index: $zindex-cursor
        text-align: center

  &-Post
    padding-top: 300px
    margin-left: var(--spacing-two)
    margin-right: var(--spacing-two)
    @media screen and ( max-width: $breakpoint-mobile)
      padding-top: 9em
    .post-Content
      margin-bottom: var(--spacing-two)
    .post-Images
      display: flex
      flex-direction: column
      justify-content: flex-start
    img, video
      width: 100%
      margin-bottom: var(--spacing-two)
    .markdown:first-child
      margin-bottom: var(--spacing-two)

  &-Profile
    position: fixed
    left: 0
    top: 0
    right: 0
    bottom: 0
    justify-content: center
    .about
      text-align: center
      margin-top: var(--spacing-one)
      margin-bottom: var(--spacing-one)
      .markdown
        display: flex
        justify-content: center
      &-Contact
        margin-top: 100px
        a
          text-decoration: none
        a:hover
          text-decoration: underline
        @media screen and ( max-width: $breakpoint-mobile )
          margin-top: var(--spacing-one)
          a
            text-decoration: underline
          span
            display: none
