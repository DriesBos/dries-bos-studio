@import '~/assets/styling/variables.sass'

// GENERAL
html, body, #__layout, #__nuxt, main, .transitionWrapper, .view, .page // Avoiding 100vh to better suit mobile browsers
  position: relative
  width: 100%
  min-height: 100%

// Fundamental elements
img
  opacity: 0
  width: 100%

img[lazy="loaded"]
  opacity: 1

// Fundamental sections
body
  background: var(--background-color)

main
  // background: var(--background-color)
  color: $color-type-lighttheme
  cursor: none
  padding-left: 0
  padding-top: 0
  padding-right: 0
  padding-bottom: 0
  min-height: 100vh
  p, h1, a, input, svg
    color: currentColor

section
  position: relative
  background: var(--background-color)
  margin-left: auto
  margin-right: auto
  width: 100%
  max-width: 100%
  &:first-of-type // Enables all content to start with the same top distance
    &.contentListItem-Text
      ul
        padding-top: 0

.spaceForm
  position: absolute
  top: 0
  left: 0
  right: 0
  opacity: 0
  width: 100%
  transform: translateY(-100%)
  color: var(--background-color)
  transition: background $transition-theme, border-bottom $transition-theme
  pointer-events: none
  z-index: 0
  svg
    vertical-align: bottom

// Building blocks
.icon // TODO: show animation constantly in spacemode
  position: relative
  opacity: 1
  height: 100%
  width: var(--spacing-icons)
  &-Space
    #fireIcon
      opacity: 0
    &:hover
      @media ( hover: hover )
        animation: vibrate .3s infinite
        #fireIcon
          animation: flicker .1s infinite
          opacity: 1
  &-Theme
    transform: rotate(0)
    transition: transform .165s ease-out
    &.active
      transform: rotate(90deg)
  svg, img
    position: absolute
    left: 0
    top: 0
    width: 100%
    height: auto

.cursor
  position: fixed
  width: calc(#{var(--spacing-icons)} * 2)
  height: calc(#{var(--spacing-icons)} * 2)
  transform: translate(-50%, -50%)
  border-radius: 50%
  z-index: 999
  pointer-events: none
  &-Instance
    position: absolute
    width: 25%
    height: 25%
    border-radius: 50%
    top: 50%
    left: 50%
    transform: translate(-50%, -50%)
    background: var(--cursor-color)
    transition: all .165s ease
  &-Large
    opacity: .33
  &.active
    .cursor-Small
      width: 25%
      height: 25%
    .cursor-Large
      width: 100%
      height: 100%
  @media ( hover: none )
    display: none

.capitalize
  text-transform: capitalize

.contentListItem
  color: $color-type-lighttheme
  display: flex
  width: 100%
  padding-top: 1rem
  padding-bottom: 1rem
  padding-left: var(--spacing-one)
  padding-right: var(--spacing-one)
  &-Column
    flex-basis: 25%
    padding-left: var(--spacing-one)
    padding-right: var(--spacing-one)
  &-Icons
    display: flex
    justify-content: flex-end
    height: 100%
  &-Icon
    margin-left: var(--spacing-two)
    @media screen and ( max-width: $breakpoint-mobile)
      margin-left: var(--spacing-icons)
    .icon
      height: 100%
      img, svg
        height: 100%
        color: currentColor
  &-Icon:first-child
    margin-left: 0
  &-Input
    input
      opacity: 0
      width: 100%
      padding: 0
      margin: 0
      transition: opacity $transition-hover
      cursor: none
      &:focus
        color: var(--type-color)
      &::placeholder
        color: var(--type-color)
        opacity: .25
    &.active
      input
        opacity: 1
  // Item category
  &-Header
    position: fixed
    top: 0
    left: 0
    right: 0
    z-index: 900
    transition: border-bottom $transition-space-vertical
    &.projects
      @media screen and ( min-width: $breakpoint-mobile)
        background: rgba(0,0,0,0)
    &.about
      background: rgba(0,0,0,0)
    &.about
      span
        visibility: hidden
    &.projects
      li.contentListItem-One
        order: 1
      li.contentListItem-Two
        order: 0
      li.contentListItem-Four
        order: 3
      @media screen and ( max-width: $breakpoint-mobile)
        li:nth-child(1)
          flex-grow: 1
        li:nth-child(3), li:nth-child(2)
          display: none
    &_TheTitle
      opacity: 0
      transition: opacity $transition-hover
      &.active
        opacity: 1
    ul // Gives extra title space on project pages
      li.contentListItem-One
        flex-basis: 50%
      li.contentListItem-Three
        flex-basis: 0%
        display: none
  &-Filter
    position: sticky
    z-index: 999
    top: calc(2rem + 1.6rem)
    left: 0
    right: 0
    border-top: 1px solid currentColor
    border-bottom: 1px solid currentColor
    p
      display: inline
    p
      opacity: .25
      transition: opacity $transition-hover
      &:hover
        opacity: 1
    .icon
      opacity: .25
      transition: opacity $transition-hover
      &:hover
        opacity: 1
      &.active
        opacity: 1
    @media screen and ( max-width: $breakpoint-mobile)
      li:nth-child(2)
        flex-grow: 1
      li:nth-child(3)
        display: none
  &-List
    border-bottom: 1px solid currentColor
    position: relative
    background: var(--background-color)
    &:hover
      background: var(--background-color-active)
    @media screen and ( max-width: $breakpoint-mobile)
      li:nth-child(2)
        flex-grow: 1
      li:nth-child(3)
        display: none
  &-Single
    padding-bottom: var(--spacing-type-vertical)
  &-Images
    position: relative
    padding-left: var(--spacing-two)
    padding-right: var(--spacing-two)
    ul
      position: relative
    li
      margin-bottom: var(--spacing-one)
    li:last-child
      margin-bottom: 0
  &-Nav
    position: sticky
    top: 50vh
    transform: translateY(-50%)
    width: 100%
    height: auto
    display: flex
    justify-content: space-between
    mix-blend-mode: difference
    z-index: 999
    &_Prev, &_Next
      position: absolute
      top: 0
      margin-top: var(--spacing-two)
    &_Prev
      left: var(--spacing-two)
      svg
        transform: rotate(180deg)
    &_Next
      right: var(--spacing-two)
    svg
      width: var(--spacing-icons-double)
      height: var(--spacing-icons)
      color: white

.theTitle
  position: fixed
  top: 0
  left: 0
  padding-left: var(--spacing-two)
  margin-left: -1.25rem
  pointer-events: none
  h1
    font-size: 16rem
    line-height: 1.1676
    letter-spacing: -.25rem

.footer
  display: flex
  justify-content: space-between
  background: var(--background-color)
  padding-top: calc(#{var(--spacing-two)} + 1.6rem)
  padding-bottom: var(--spacing-one)
  padding-left: var(--spacing-one)
  padding-right: var(--spacing-one)
  > div
    padding-left: var(--spacing-one)
    padding-right: var(--spacing-one)
  .icon-ArrowUp
    img, svg
      width: var(--spacing-icons)

// Imagegrid
.imageGrid
  min-height: 100vh
  background: var(--background-color)
  img
    transition: opacity $transition-lazy
  &-Item
    width: 100%
    min-height: 0
    display: flex
    flex-direction: column
    align-items: center
    border-bottom: 1px solid rgba(0,0,0,0)
    &_Wrapper
      width: 100%
  @media screen and ( min-width: $breakpoint-mobile)
    li:nth-of-type(1)
      .imageGrid-Item_Wrapper
        width: 100%
    li:nth-of-type(2)
      .imageGrid-Item_Wrapper
        width: 66.6666%
        align-self: flex-end
    li:nth-of-type(3)
      .imageGrid-Item_Wrapper
        width: 33.3333%
        align-self: flex-start
    li:nth-of-type(4)
      .imageGrid-Item_Wrapper
        width: 66.6666%
        align-self: fflex-start
    li:nth-of-type(5)
      .imageGrid-Item_Wrapper
        width: 33.3333%
        align-self: flex-end
    li:nth-of-type(6)
      .imageGrid-Item_Wrapper
        align-self: center
    li:nth-of-type(7)
      .imageGrid-Item_Wrapper
        width: 66.6666%
        align-self: flex-start
    li:nth-of-type(8)
      .imageGrid-Item_Wrapper
        width: 33.3333%
        align-self: flex-start
    li:nth-of-type(9)
      .imageGrid-Item_Wrapper
        width: 66.6666%
        align-self: flex-end
    li:nth-of-type(10)
      .imageGrid-Item_Wrapper
        width: 100%
        align-self: flex-start
    li:nth-of-type(11)
      .imageGrid-Item_Wrapper
        width: 33.3333%
        align-self: flex-start
    li:nth-of-type(12)
      .imageGrid-Item_Wrapper
        width: 66.6666%
        align-self: flex-end
    li:nth-of-type(13)
      .imageGrid-Item_Wrapper
        align-self: center
    li:nth-of-type(14)
      .imageGrid-Item_Wrapper
        align-self: center
    li:nth-of-type(15)
      .imageGrid-Item_Wrapper
        align-self: center
  @media screen and ( max-width: $breakpoint-mobile)
    li
      width: 100%

// Views
.view
  width: 100%
  max-width: 100%
  margin-left: auto
  margin-right: auto
  &-Index, &-Project, &-About
    padding-top: 18rem
  &-Index
    .contentListItem-Header
      background: var(--background-color)
  &-Project, &-About
    background: var(--background-color)
  &-Project
    .contentListItem-Text
      margin-bottom: .5rem
    .imageGrid
      @media screen and ( min-width: $breakpoint-mobile)
        margin-top: 3.5rem
  &-About
    ul
      padding-bottom: 2.5rem
      border-bottom: 1px solid var(--type-color)
    section:last-of-type
      ul
        border-bottom: 0
        padding-bottom: 1rem
    li:nth-child(1)
      flex-basis: 25%
      .markdown
        position: sticky
        top: 0
    li:nth-child(2)
      flex-basis: 75%
  &-Project
    ul
      justify-content: flex-end
    li
      flex-basis: 75%
      @media screen and ( max-width: $breakpoint-mobile)
        flex-basis: 100%

// Spacemode
body.spaced
  background: var(--space-color)

main.spaced
  padding-top: calc(15rem + 200px)
  padding-left: 8vw
  padding-right: 8vw
  padding-bottom: var(--spacing-two)
  .view
    width: 100%
    max-width: 1300px
    &-Index, &-Project, &-About
      padding-top: 0
    &-Project
      ul
        justify-content: flex-start
      .imageGrid
        margin-top: 0
  section
    width: 100%
    max-width: 1300px
    &:first-of-type // Enables all content to start with the same top distance
      &.contentListItem-Text
        border-top: 1px solid var(--type-color)
        ul
          padding-top: 1rem
  .spaceForm
    display: block
    opacity: 1
  #floatBlock
    transform: translateY(-100%)
    &.active
      transform: translateY(0%)
  .contentListItem
    &-Header
      position: relative
      top: auto
      left: auto
      right: auto
      border-top: 2px solid var(--type-color)
      border-bottom: 1px solid var(--type-color)
      margin-bottom: -1px
      background: var(--background-color)
      .spaceForm
        top: -1px
      &_TheTitle
        opacity: 1
      &.about
        span
          visibility: visible
      &.projects
        li.contentListItem-One
          order: 0
        li.contentListItem-Two
          order: 1
        li.contentListItem-Four
          order: 3
    &-Filter
      border-top: 1px solid var(--type-color)
      position: relative
      top: auto
      left: auto
      right: auto

// Spacemode transition
main // Reverse
  transition: padding-top 1s ease, padding-left .5s ease, padding-right .5s ease, padding-bottom .5s ease
  section
    transition: max-width .5s ease, width .5s ease
  .view
    transition: max-width .5s ease, width .5s ease
    &-Index
      transition: padding-top 0s ease
  #floatBlock
    transition: transform 0s ease

main.spaced // Initial
  transition: background 0s ease .5s, padding-top 1s ease .5s, padding-left 1s ease .5s, padding-right 1s ease .5s, padding-bottom 1s ease 1.5s
  section
    transition: max-width 1s ease .5s, width 1s ease .5s, top 1s ease 1s
  .view
    transition: max-width 1s ease .5s, width 1s ease .5s
    &-Index
      transition: padding-top .5s ease
  #floatBlock
    transition: transform 1s ease 1.5s
